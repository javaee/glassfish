package com.sun.s1asdev.ejb30.eempassivation;import javax.ejb.Stateful;import javax.ejb.PostActivate;import javax.ejb.PrePassivate;import javax.persistence.PersistenceContextType;import javax.persistence.PersistenceContext;import javax.persistence.EntityNotFoundException;import javax.persistence.EntityManager;import javax.ejb.TransactionAttribute;import javax.ejb.TransactionAttributeType;@Statefulpublic class SfulDelegateBeanimplements SfulDelegate {    @PersistenceContext(    unitName = "lib/ejb-ejb30-persistence-eempassivation-par1.jar#em",    type = PersistenceContextType.EXTENDED)    private EntityManager extendedEM;    private int passivationCount = 0;    private int activateCount = 0;    public EntityManager getEM() {        return extendedEM;    }    public Person create(String name, String data) {        Person p = new Person(name);        p.data = data;        extendedEM.persist(p);        return p;    }    public Person find(String name) {        Person p = extendedEM.find(Person.class, name);        System.out.println("Found " + p);        return p;    }    public boolean remove(String name) {        Person p = extendedEM.find(Person.class, name);        boolean removed = false;        if (p != null) {            extendedEM.remove(p);            removed = true;        }        return removed;    }    @PrePassivate    public void prePassivate() {        System.out.println("**ejbPASSIVATE() called...");        passivationCount++;    }        @PostActivate    public void postActivate() {        System.out.println("**ejbActivate() called...");        activateCount++;    }    public int getPassivationCount() {        return passivationCount;    }        public int getActivationCount() {        return activateCount;    }}