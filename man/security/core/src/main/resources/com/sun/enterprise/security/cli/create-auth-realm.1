
asadmin Utility Subcommands                  create-auth-realm(1)

NAME
     create-auth-realm - adds the named authentication realm

SYNOPSIS
     create-auth-realm --classname realm_class [--help] [--property(name=value)[:name=value]*]
     [--target target_name] auth_realm_name

DESCRIPTION
     The create-auth-realm subcommand adds the named  authentica-
     tion realm.

     This subcommand is supported in remote mode only.

OPTIONS
     --help
     -?

         Displays the help text for the subcommand.

     --target
         Do not specify this option. This option is retained  for
         compatibility  with  other releases. If you specify this
         option, a syntax error does not occur. Instead, the sub-
         command  runs  successfully  and  the option is silently
         ignored.

     --classname

         Java class which implements this  realm.  These  include
         com.sun.enterprise.security.auth.realm.file.FileRealm,
         com.sun.enterprise.security.auth.realm.certificate.CertificateRealm,
         com.sun.enterprise.security.auth.realm.jdbc.JDBCRealm,
         com.sun.enterprise.security.auth.realm.ldap.LDAPRealm,
         and
         com.sun.enterprise.security.auth.realm.solaris.SolarisRealm,
         or a custom realm.

     --property
         Optional attribute name-value pairs for configuring  the
         authentication   realm.  Authentication  realms  require
         provider-specific properties, which vary based on imple-
         mentation.

         The following properties are common to all of  the  sup-
         ported   realms,   which   include  FileRealm,  Certifi-
         cateRealm, JDBCRealm, LDAPRealm, and SolarisRealm.

Java EE 6          Last change: 28 August 2009                  1

asadmin Utility Subcommands                  create-auth-realm(1)

         jaas-context

             Specifies the Java Authentication and  Authorization
             Service (JAAS) context.

         assign-groups
             (Optional) If this property is  set,  its  value  is
             taken  to  be a comma-separated list of group names.
             All  clients  who  present  valid  certificates  are
             assigned membership to these groups for the purposes
             of authorization decisions in the web and  EJB  con-
             tainers.

         Specific to each realm, you can  specify  the  following
         properties.

             o    You can specify the  following  properties  for
                  FileRealm:

         file

             Specifies the file that  stores  user  names,  pass-
             words,  and  group  names.  The  default  is domain-
             dir/config/keyfile.

             o    You can specify the  following  properties  for
                  CertificateRealm:

         clientAuth
             If true, specifies  that  client  authentication  is
             required  for all applications that use the certifi-
             cate realm. The default is false.

             To require client authentication for a specific  web
             application, set the method of authentication in the
             web.xml file to CLIENT-CERT.

             o    You can specify the  following  properties  for
                  JDBCRealm:

         datasource-jndi

             Specifies the jndi-name of the jdbc-resource for the
             database.

Java EE 6          Last change: 28 August 2009                  2

asadmin Utility Subcommands                  create-auth-realm(1)

         user-table

             Specifies the name of the user table  in  the  data-
             base.

         user-name-column
             Specifies the name of the user name  column  in  the
             database's user table.

         password-column

             Specifies the name of the  password  column  in  the
             database's user table.

         group-table
             Specifies the name of the group table in  the  data-
             base.

         group-table

             Specify the group table for an authentication  realm
             of class JDBCRealm.

         group-name-column
             Specifies the name of the group name column  in  the
             database's group table.

         db-user

             (Optional) Allows you to specify the  database  user
             name  in  the  realm instead of the jdbc-connection-
             pool. This prevents other applications from  looking
             up  the database, getting a connection, and browsing
             the user table. By default, the jdbc-connection-pool
             configuration is used.

         db-password
             (Optional) Allows you to specify the database  pass-
             word  in  the  realm instead of the jdbc-connection-
             pool. This prevents other applications from  looking
             up  the database, getting a connection, and browsing
             the user table. By default, the jdbc-connection-pool
             configuration is used.

Java EE 6          Last change: 28 August 2009                  3

asadmin Utility Subcommands                  create-auth-realm(1)

         group-table

             Specifies the name of the group table in  the  data-
             base.

         digest-algorithm
             (Optional)  Specifies  the  digest  algorithm.   The
             default  is MD5. You can use any algorithm supported
             in the JDK, or none.

         encoding

             (Optional) Specifies the  encoding.  Allowed  values
             are  Hex  and  Base64. If digest-algorithm is speci-
             fied, the default is Hex. If digest-algorithm is not
             specified, by default no encoding is specified.

         charset
             (Optional) Specifies  the  charset  for  the  digest
             algorithm.

             o    You can specify the  following  properties  for
                  LDAPRealm:

         directory

             Specifies the LDAP URL to your server.

         base-dn
             Specifies the LDAP base DN for the location of  user
             data.  This  base  DN  can be at any level above the
             user data, since a tree scope search  is  performed.
             The  smaller the search tree, the better the perfor-
             mance.

         search-filter

             (Optional) Specifies the search  filter  to  use  to
             find  the user. The default is uid=%s (%s expands to
             the subject name).

         group-base-dn
             (Optional) Specifies the base DN for the location of
             groups  data. By default, it is same as the base-dn,
             but it can be tuned, if necessary.

Java EE 6          Last change: 28 August 2009                  4

asadmin Utility Subcommands                  create-auth-realm(1)

         group-search-filter

             (Optional) Specifies the search filter to find group
             memberships   for   the   user.   The   default   is
             uniquemember=%d (%d expands to the user elementDN).

         group-target
             (Optional) Specifies the LDAP  attribute  name  that
             contains group name entries. The default is CN.

         search-bind-dn

             (Optional) Specifies an optional DN used to  authen-
             ticate  to  the directory for performing the search-
             filter lookup. Only required for directories that do
             not allow anonymous search.

         search-bind-password
             (Optional) Specifies the LDAP password  for  the  DN
             given in search-bind-dn.

OPERANDS
     auth_realm_name             A short name for the realm. This
                                 name  is  used  to  refer to the
                                 realm   from,    for    example,
                                 web.xml.

EXAMPLES
     Example 1 Creating a New Authentication Realm

       asadmin> create-auth-realm
       --classname com.sun.enterprise.security.auth.realm.file.FileRealm
       --property file=${com.sun.aas.instanceRoot}/config/
       admin-keyfile:jaas-context=fileRealm file
       Command create-auth-realm executed successfully

     Where file is the authentication realm created.

EXIT STATUS
     0                           command executed successfully

Java EE 6          Last change: 28 August 2009                  5

asadmin Utility Subcommands                  create-auth-realm(1)

     1                           error in executing the command

SEE ALSO
     delete-auth-realm(1), list-auth-realms(1)

     asadmin(1M)

Java EE 6          Last change: 28 August 2009                  6

