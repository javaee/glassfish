
asadmin Utility Subcommands               recover-transactions(1)

NAME
     recover transactions - manually  recovers  pending  transac-
     tions

SYNOPSIS
     recover-transactions  [--help] [--transactionlogdir transaction_log_dir ]
     [--target target_server_name ] server_name

DESCRIPTION
     The recover-transactions subcommand manually recovers  pend-
     ing transactions.

     For a stand-alone server, do  not  use  this  subcommand  to
     recover  transactions  after  a server failure. For a stand-
     alone  server,  the  recover-transactions   subcommand   can
     recover  transactions  only  when  a resource fails, but the
     server is still running. If a stand-alone server fails, only
     the  full  startup recovery process can recover transactions
     that were pending when the server failed.

     For an installation of multiple server  instances,  you  can
     run  the  recover-transactions  subcommand  from a surviving
     server instance  to  recover  transactions  after  a  server
     failure.  To  use this subcommand in this way, the following
     conditions must be met:

         o    Delegated transaction recovery is enabled.

         o    Transaction logs are stored on a shared file system
              that is accessible to all server instances.

     This subcommand is supported in remote mode only.

OPTIONS
     --help
     -?

         Displays the help text for the subcommand.

     --transactionlogdir
         The location of the transaction logs  for  a  particular
         server.  When  a  server fails it writes the location in
         its transaction log.

         If the failed server's transaction logs  are  copied  to
         some  other  location to make it available to the surro-
         gate recovery server, use this option to specify the new

Java EE 6           Last change: 14 Sep 2010                    1

asadmin Utility Subcommands               recover-transactions(1)

         location of the transaction logs. If the failed server's
         transaction service tx-log-dir property is  modified  to
         reflect   a  new  location,  then  this  option  is  not
         required.

     --target

         The target server that performs  the  recovery  for  the
         server that is specified by the server_name operand. The
         target server should be running.

     --destination
         This option is deprecated. It works exactly  as  the  --
         target option does.

OPERANDS
     server_name

         For a stand-alone server, the value of this  operand  is
         typically  server.  Transactions are recovered only if a
         resource fails, but the server is still running.

         For an installation of multiple server  instances,   the
         value  of  this  operand  is  the name of the server for
         which the recovery is required. The  in-flight  transac-
         tions  on  this server will be recovered. If this server
         is running, recovery is performed by the same server. In
         this  situation,  the  --transactionlogdir  and --target
         options should be omitted. If the server is not running,
         the   --transactionlogdir   and   --target  options  are
         required.

EXAMPLES
     Example 1 Using recover-transactions

       % asadmin recover-transactions server
       Transaction recovered.

EXIT STATUS
     0    command executed successfully

     1    error in executing the command

Java EE 6           Last change: 14 Sep 2010                    2

asadmin Utility Subcommands               recover-transactions(1)

SEE ALSO
     freeze-transaction-service(1),         unfreeze-transaction-
     service(1), rollback-transaction(1)

     asadmin(1M)

     Chapter 28, Transactions, in The Java EE 6 Tutorial

Java EE 6           Last change: 14 Sep 2010                    3

