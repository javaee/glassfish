<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jdbcconnectionpoolnew"></a><h4>To Create a JDBC Connection Pool</h4><a name="indexterm-7"></a><a name="indexterm-8"></a><a name="indexterm-9"></a><p>When creating a connection pool with the Administration Console, you are defining the
aspects of a connection to a specific database.</p><h6>Before You Begin</h6><p>To create a connection pool, you must first install and integrate a driver
supporting the JDBC API (JDBC driver). See <a href="task-integratejdbcdriver.html">To Integrate a JDBC Driver</a>.</p><p>The following information is required to create the JDBC connection pool. Gather this
information before proceeding:</p>
<ul><li><p>Database vendor name</p></li>
<li><p>Resource type, such as <tt>javax.sql.DataSource</tt> (local transactions only), <tt>java.sql.ConnectionPoolDataSource</tt> (local transactions, possible performance improvements), <tt>javax.sql.XADataSource</tt> (global transactions), and <tt>java.sql.Driver</tt></p></li>
<li><p>Data source class name</p></li>
<li><p>Required properties, such as the database name (URL), user name, and password</p></li></ul>
<ol>
<li><b>In the navigation tree, select the Common Tasks node.</b><p>The Common Tasks page opens.</p></li>
<li><b>On the Common Tasks page, click the Create New JDBC Connection Pool button.</b><p>The New JDBC Connection Pool (Step 1 of 2) page opens.</p>
<hr><p><b>Note - </b>You can also access the New JDBC Connection Pool page by expanding the
Resources node and the JDBC node, and selecting the Connection Pools node. Then
from the Connection Pools page, click New to create a new connection pool.</p>
<hr>
</li>
<li><b>In the Pool Name field, type a name for the new connection
pool.</b><p>This is a required field.</p></li>
<li><b>From the Resource Type drop-down list, select a resource type.</b><p>Choices include <tt>javax.sql.XADataSource</tt> (global transactions), <tt>java.sql.ConnectionPoolDataSource</tt> (local transactions, possible performance improvements), <tt>javax.sql.DataSource</tt> (local transactions
only), and <tt>java.sql.Driver</tt>.</p></li>
<li><b>Specify a database vendor by performing one of the following actions:</b><ul>
<li><b>From the Database Vendor drop-down list, select a database vendor.</b></li>
<li><b>If the database vendor does not appear in the list, type the
name of the vendor in the Database Vendor text field.</b></li></ul></li>
<li><b>Click Next.</b><p>The New JDBC Connection Pool (Step 2 of 2) page opens.</p></li>
<li><b>In the Datasource Classname field, type the name of the vendor-specific class that
implements the <tt>DataSource</tt>, <tt>ConnectionPoolDataSource</tt>, or <tt>XADataSource</tt> API.</b><p>If you selected one of the datasource resource types, this field is usually
filled in automatically with the class name associated with the resource type and database
vendor you chose. If you selected the <tt>java.sql.Driver</tt> resource type, this field is
disabled.</p></li>
<li><b>In the Driver Classname field, type the name of the vendor-specific class that
implements the <tt>java.sql.Driver</tt> API.</b><p>If you selected the <tt>java.sql.Driver</tt> resource type, this field is usually filled in
automatically with the class name associated with the driver and database vendor you
chose. If you selected one of the datasource resource types, this field is
disabled.</p></li>
<li><b>Select the Ping Enabled checkbox to automatically ping the pool during pool creation
or reconfiguration to identify and warn of any erroneous attribute values.</b><p>This option is disabled by default.</p></li>
<li><b>In the Description field, type a short description for the connection pool.</b></li>
<li><b>In the Initial and Minimum Pool Size field, type the minimum number of
connections for this pool.</b><p>This value also determines the number of connections placed in the pool when
the pool is first created or when the Enterprise Server starts. The default
value is 8.</p></li>
<li><b>In the Maximum Pool Size field, type the maximum number of connections for
this pool.</b><p>The default value is 32.</p></li>
<li><b>In the Pool Resize Quantity field, type the number of connections per pool
resizing batch.</b><p>When the pool scales up and scales down toward the maximum and minimum
pool size respectively, it is resized in batches. This value determines the number
of connections in the batch. Making this value too large delays connection creation
and recycling; making it too small will be less efficient. The default value
is 2.</p></li>
<li><b>In the Idle Timeout field, type the maximum amount of time, in seconds,
that a connection can remain idle in the pool.</b><p>After this time expires, the connection is removed from the pool. The default
value is 300.</p></li>
<li><b>In the Max Wait Time field, type the maximum amount of time,
in milliseconds, that the application requesting a connection will wait before getting a connection
timeout.</b><p>The default value is 60,000.</p></li>
<li><b>Select the Non Transactional Connections Enabled checkbox to return non-transactional connections.</b><p>This option is disabled by default.</p></li>
<li><b>From the Transaction Isolation Level drop-down list, select a transaction isolation level for
this connection pool.</b><p>If not specified, the connections operate with default isolation levels provided by the
JDBC driver. By default, this option is not specified.</p></li>
<li><b>Select the Isolation Level Guaranteed checkbox to ensure that all connections taken from
the pool have the same isolation level.</b><p>For example, if the isolation level for the connection is changed programmatically (with <tt>con.setTransactionIsolation</tt>)
when last used, this mechanism changes the status back to the specified isolation
level. This option is enabled by default.</p><p>This setting is only applicable if a transaction isolation level has been specified.</p></li>
<li>(Optional) <b>In the Additional Properties section, specify additional properties.</b><p>Examples of required properties include database name (URL), user name, and password. The
table normally contains properties used by the database vendor. For information on some
of the available properties, see <a href="ref-jdbc-properties.html">Properties Specific to JDBC Connection Pools</a>.</p><p>If you do not specify a value for a property, it is
removed from the table when you finish creating the connection pool. If you
do not want to set a value for a property now, but you
want the property to remain in the table so that the value can
be set later, type a set of empty parentheses in the Value field:</p><pre>()</pre><ul>
<li><b>To add a property, click the Add Property button. In the blank row
that appears, type the property name in the Name field, and type
the property value in the Value field.</b></li>
<li><b>To modify a property, edit that property's Value field.</b></li>
<li><b>To delete a property, select the checkbox to the left of the
Name field of the property that you are deleting, then click the Delete
Properties button.</b></li></ul></li>
<li><b>Click Finish.</b></li></ol><h6>See Also</h6>
<ul><li><p><a href="task-setdbaccess.html">To Set Up Database Access</a></p></li>
<li><p><a href="task-integratejdbcdriver.html">To Integrate a JDBC Driver</a></p></li>
<li><p><a href="task-jdbcresourcenew.html">To Create a JDBC Resource</a></p></li>
<li><p><a href="task-jdbcresourcesedit.html">To Edit a JDBC Resource</a></p></li>
<li><p><a href="task-jdbcresourcesdelete.html">To Delete a JDBC Resource</a></p></li>
<li><p><a href="task-jdbcconnectionpooledit.html">To Edit JDBC Connection Pool General Settings</a></p></li>
<li><p><a href="task-jdbcconnectionpooladvance.html">To Edit JDBC Connection Pool Advanced Attributes</a></p></li>
<li><p><a href="task-verifyconnpoolsettings.html">To Verify Connection Pool Settings</a></p></li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">To Edit JDBC Connection Pool Properties</a></p></li>
<li><p><a href="task-jdbcconnectionpooldelete.html">To Delete a JDBC Connection Pool</a></p></li></ul>

