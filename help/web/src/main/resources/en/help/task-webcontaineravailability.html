<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-webcontaineravailability"></a><h3>To Configure Availability Settings for the Web Container</h3><a name="indexterm-12"></a><a name="indexterm-13"></a><a name="indexterm-14"></a><a name="indexterm-15"></a><ol>
<li><b>In the navigation tree, expand the Configuration node.</b></li>
<li><b>Select the configuration that you are changing.</b></li>
<li><b>Under the configuration's node, select the Availability Service node.</b><p>The Availability Service page opens.</p></li>
<li><b>On the Availability Service page, click the Web Container Availability tab.</b><p>The Web Container Availability page opens.</p></li>
<li><b>In the Availability Service field, check the Enabled box to enable availability for
the web container.</b><p>To disable availability, remove the check from the Availability Service Enabled box.</p></li>
<li><b>From the Persistence Type drop-down list, select the persistence mechanism.</b><ul>
<li><b>If Availability Service Enabled is <b>not</b> checked, select one of the following:</b>
<ul><li><p><tt>memory</tt> for no session persistence</p>

</li>
<li><p><tt>file</tt> for session persistence based on the file system that is not highly available</p>

</li></ul>
</li>
<li><b>If Availability Service Enabled is checked, select <tt>replicated</tt> for session persistence based
on cluster failover that is highly available.</b></li></ul></li>
<li><b>From the Persistence Frequency drop-down list, select the frequency at which the HTTP
session is stored:</b>
<ul><li><p><tt>web-method</tt> &#8212; The session state is stored at the end of each web request prior to sending a response back to the client. This mode provides the best guarantee that the session state is fully updated in case of failure. This is the default.</p>

</li></ul>
<p>Persistence Frequency is only applicable if the Persistence Type is <tt>replicated</tt>.</p></li>
<li><b>From the Persistence Scope drop-down list, select the scope of HTTP session changes
required for storage to occur:</b>
<ul><li><p><tt>session</tt> &#8212; The entire session state is stored every time. This mode provides the best guarantee that your session data is correctly stored for any distributable web application.</p>

</li>
<li><p><tt>modified-session</tt> &#8212; The entire session state is stored if it has been modified. A session is considered to have been modified if <tt>HttpSession.setAttribute()</tt> or <tt>HttpSession.removeAttribute()</tt> was called. You must guarantee that <tt>setAttribute()</tt> is called every time an attribute is changed. This is not a Java EE specification requirement, but it is required for this mode to work properly.</p>

</li>
<li><p><tt>modified-attribute</tt> &#8212; Only modified session attributes are stored. For this mode to work properly, you must follow these guidelines:</p>


<ul><li><p>Call <tt>setAttribute()</tt> every time the session state is modified.</p>

</li>
<li><p>Make sure there are no cross-references between attributes. The object graph under each distinct attribute key is serialized and stored separately. If there are any object cross references between the objects under each separate key, they are not serialized and deserialized correctly.</p>

</li>
<li><p>Distribute the session state across multiple attributes, or at least between a read-only attribute and a modifiable attribute.</p>

</li></ul>
</li></ul>
<p>Persistence Scope is only applicable if the Persistence Type is <tt>replicated</tt>.</p></li>
<li><b>In the Single-Sign-On State field, check the Enabled box to make the single
sign-on state available for failover.</b><p>To make the single sign-on state unavailable for failover, remove the check from
the Single-Sign-On State Enabled box.</p></li>
<li><b>To restore the default values of all the settings, click the Load Defaults
button.</b></li>
<li>(Optional) <b>In the Additional Properties section, specify additional properties.</b><p>The GlassFish Server does not define any additional properties for web container availability.</p><ul>
<li><b>To add a property, click the Add Property button. In the blank row
that appears, type the property name in the Name field, and type
the property value in the Value field.</b></li>
<li><b>To modify a property, edit that property's Value field.</b></li>
<li><b>To delete a property, select the checkbox to the left of the
Name field of the property that you are deleting, then click the Delete
Properties button.</b></li></ul></li>
<li><b>Click Save.</b></li></ol><p></b>See Also</b></p>
<ul><li><p><a href="task-webcontainergeneral.html">To Configure General Properties for the Web Container</a></p>

</li>
<li><p><a href="task-webcontainersessiontimeout.html">To Configure Session Properties for the Web Container</a></p>

</li>
<li><p><a href="task-webcontainermanagerprops.html">To Configure Manager Properties for the Web Container</a></p>

</li>
<li><p><a href="task-webcontainerstoreprops.html">To Configure Store Properties for the Web Container</a></p>

</li></ul>


<small>Copyright &#169; 2005, 2011, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
