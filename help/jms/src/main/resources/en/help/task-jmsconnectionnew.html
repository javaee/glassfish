<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2009 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-jmsconnectionnew"></a><h4>To Create a JMS Connection Factory Resource</h4><a name="indexterm-1"></a><a name="indexterm-2"></a><p>When you create a JMS connection factory, the Enterprise Server creates a connector
connection pool and a connector resource for the connection factory. You can view
these objects under the Connectors node.</p><ol>
<li><b>In the navigation tree, expand the Resources node.</b></li>
<li><b>Under the Resources node, expand the JMS Resources node.</b></li>
<li><b>Under the JMS Resources node, select the JMS Connection Factories node.</b><p>The JMS Connection Factories page opens.</p></li>
<li><b>On the JMS Connection Factories page, click New.</b><p>The New JMS Connection Factory page appears.</p></li>
<li><b>In the JNDI Name field, type the JNDI name of the connection
factory. </b><p>It is a recommended practice to use the naming subcontext prefix <tt>jms/</tt>
for JMS resources. For example: <tt>jms/ConnectionFactory1</tt>.</p></li>
<li><b>From the Resource Type drop-down list, select either <tt>javax.jms.ConnectionFactory</tt>, <tt>javax.jms.QueueConnectionFactory</tt>, or <tt>javax.jms.TopicConnectionFactory</tt>.</b></li>
<li><b>In the Description field, type a description of the connection factory.</b></li>
<li><b>Select the Status Enabled checkbox to enable the resource at run time.</b><p>This option is enabled by default.</p></li>
<li><b>In the Initial and Minimum Pool Size field, specify the minimum number of
connections in the pool.</b><p>The default value is 8.</p></li>
<li><b>In the Maximum Pool Size field, specify the maximum number of connections in
the pool.</b><p>The default value is 32.</p></li>
<li><b>In the Pool Resize Quantity field, specify the number of connections to be
removed when pool idle timeout expires.</b><p>The default value is 2.</p></li>
<li><b>In the Idle Timeout field, specify the maximum time in seconds that a
connection can remain idle in the pool.</b><p>The default value is 300.</p></li>
<li><b>In the Max Wait Time field, specify the amount of time the
application requesting a connection will wait before getting a connection timeout.</b><p>The default value is 60000.</p></li>
<li><b>Select the On Any Failure Close All Connections checkbox so the Enterprise
Server will close all connections in the pool and reestablish them if a
single connection fails.</b><p>If you do not select the checkbox, individual connections will be reestablished only
when they are used. This option is disabled by default.</p></li>
<li><b>For a JMS connection factory resource, select the level of Transaction Support.</b><p>The selected value overwrites the transaction support attribute in the Resource Adapter in
a downward compatible way.</p><ul>
<li><b>Select XATransaction (the default value for the JMS Resource Adapter) for a resource
that can be used for transactions that involve the use of more than
one resource within a transaction scope.</b><p>For example, transactions may involve this resource plus a JDBC resource, a connector
resource, or another JMS connection factory resource. This value offers the most flexibility.
A resource that is configured as XATransaction will participate in two-phase commit operations.</p></li>
<li><b>Select LocalTransaction for a resource that can be used either for transactions that
involve only one resource within the transaction scope or as the last agent
in a distributed transaction that involves more than one XA resource.</b><p>This value offers significantly better performance. A resource that is configured as LocalTransaction
will not be used in two-phase commit operations.</p></li>
<li><b>Select NoTransaction for a resource that can never participate in transactions.</b><p>This setting is of limited use in JMS applications.</p></li></ul></li>
<li><b>Select the Connection Validation Required checkbox to enable connection validation.</b><p>If this option is selected, connections are validated before being given to the
application. If a resource's validation fails, it is destroyed, and a new resource
is created and returned. This option is disabled by default.</p></li>
<li>(Optional) <b>In the Additional Properties section, specify additional properties for the connection factory.</b><p>For information on available properties, see <a href="ref-jmsconnectionproperties.html">Properties Specific to JMS Connection Factories</a>.</p><p>To add a property, click the Add Property button. In the blank
row that appears, type the property name in the Name field, and type
the property value in the Value field.</p></li>
<li><b>Click OK.</b></li></ol><h6>See Also</h6>
<ul><li><p><a href="task-jmsconnectionedit.html">To Edit a JMS Connection Factory Resource</a></p></li>
<li><p><a href="task-jmsconnectiondelete.html">To Delete a JMS Connection Factory Resource</a></p></li>
<li><p><a href="task-jmsdestinationnew.html">To Create a JMS Destination Resource</a></p></li>
<li><p><a href="task-jmsdestinationedit.html">To Edit a JMS Destination Resource</a></p></li>
<li><p><a href="task-jmsdestinationdelete.html">To Delete a JMS Destination Resource</a></p></li></ul>

