<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2011 Oracle and/or its affiliates. All rights reserved.
 
Use is subject to License Terms  -->


<a name="task-create-cluster"></a><h3>To Create a Cluster</h3><a name="indexterm-1"></a><p>A <b>cluster</b> is a named collection of GlassFish Server instances that share
the same applications, resources, and configuration information.</p>

<p>A cluster to provides high availability through scalability, load balancing, and failure
protection. When an instance or a host in a cluster fails, GlassFish
Server detects the failure, redirects requests from the failed instance to other instances
in the cluster, and recovers the user session state. Because the same
applications and resources are on all instances in the cluster, an instance can
fail over to any other instance in the cluster.</p>

<p>GlassFish Server enables you to administer all the instances in a cluster
as a single unit from a single host, regardless of whether the
instances reside on the same host or different hosts.</p>

<p><b>Before You Begin</b></p><p>If you plan to add GlassFish Server instances to the cluster that
you are creating, ensure that the nodes on which the instances are
to reside already exist.</p>

<ol>
<li><b>In the navigation tree, select the Clusters node.</b><p>The Clusters page opens.</p></li>
<li><b>On the Clusters page, click New. </b><p>The New Cluster page opens.</p></li>
<li><b>In the Cluster Name field, type a name for the cluster.</b><p>The name must meet the following requirements:</p>
<ul><li><p>The name may contain only ASCII characters.</p>

</li>
<li><p>The name must start with a letter, a number, or an underscore.</p>

</li>
<li><p>The name may contain only the following characters:</p>


<ul><li><p>Lowercase letters</p>

</li>
<li><p>Uppercase letters</p>

</li>
<li><p>Numbers</p>

</li>
<li><p>Hyphen</p>

</li>
<li><p>Period</p>

</li>
<li><p>Underscore</p>

</li></ul>
</li>
<li><p>The name must be unique in the domain and must not be the name of a another cluster, a named configuration, a GlassFish Server instance , or a node.</p>

</li>
<li><p>The name must not be <tt>domain</tt>, <tt>server</tt>, or any other keyword that is reserved by GlassFish Server.</p>

</li></ul>
</li>
<li><b>From the Configuration drop-down list, select the named configuration that the cluster
will use.</b>
<hr><p><b>Note - </b>If you select <tt>default-config</tt>, you must specify in the next step that
the configuration is <b>not</b> shared. The <tt>default-config</tt> configuration cannot be shared.</p>


<hr>
</li>
<li><b>Specify whether the configuration that cluster will use is shared.</b><ul>
<li><b>If the configuration is not shared, leave the Make a Copy of
the Selected Configuration option selected. </b><p>The selected configuration is copied when the cluster is created. The copy of
the configuration is assigned the name <tt><i>cluster-name</i>-config</tt>, where <i>cluster-name</i> is the name of
the cluster that you are creating.</p></li>
<li><b>If the configuration is shared, select the Reference the Selected Configuration option.</b><p>The cluster will use the specified existing named configuration.</p></li></ul></li>
<li>(Optional) <b><a name="indexterm-2"></a>Add GlassFish Server instances to the cluster.</b>
<hr><p><b>Note - </b>To create an instance on a node of type CONFIG that represents
a remote host, you must use the <a href="http://www.oracle.com/pls/topic/lookup?ctx=821-2433&id=create-local-instance-1"><tt>create-local-instance</tt>(1)</a> subcommand. You cannot use the
Administration Console for this purpose.</p>


<hr>
<p>You can also <a href="task-create-clustered-instance.html">add instances after the cluster is created</a>.</p><p>Add each instance as follows:</p><ol style="list-style-type: lower-alpha">
<li><b>In the Server Instances To Be Created area, click Add.</b><p>A row is added to the table of instances in the cluster.</p></li>
<li><b>In the Instance Name field, type a name for the instance.</b></li>
<li><b>In the Weight field, type an integer that represents the load-balancing weight
of the instance.</b><p>The load-balancing weight determines the proportion of all requests to the cluster
that the instance should process.</p><p>For example, in a two-instance cluster, you might require one instance to process
one out of four requests, and the other instance to process three
out of four requests. In this situation, set the weight of the instance
that is process one out of four requests to 1 and set
the weight of the other instance to 3. If you prefer to use
percentages, set the weights of the instances to 25 and 75 respectively.</p><p>The default weight is 100.</p></li>
<li><b>From the Node drop-down list, select the node where the instance is
to reside.</b></li></ol></li>
<li><b>Click OK.</b><p>You are returned to the Clusters page. The cluster is added to
the table of clusters on the page.</p></li></ol><p></b>See Also</b></p>
<ul><li><p><a href="task-delete-cluster.html">To Delete a Cluster</a></p>

</li>
<li><p><a href="task-availabilityservice.html">To Configure Availability Settings for a Cluster</a></p>

</li>
<li><p><a href="task-start-cluster.html">To Start a Cluster</a></p>

</li>
<li><p><a href="task-stop-cluster.html">To Stop a Cluster</a></p>

</li>
<li><p><a href="task-modify-cluster-config.html">To Modify the Configuration of a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-deploy.html">To Deploy an Application to a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-list.html">To List Applications That Are Deployed to a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-undeploy.html">To Undeploy Applications From a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-remove.html">To Remove Applications From a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-edit.html">To Edit an Application That Is Deployed to a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-enable-disable.html">To Enable or Disable an Application That Is Deployed to a Cluster</a></p>

</li>
<li><p><a href="task-cluster-app-lb-enable-disable.html">To Enable or Disable Load Balancing for an Application That Is Deployed to a Cluster</a></p>

</li>
<li><p><a href="task-cluster-resource-create.html">To Create a Resource for a Cluster</a></p>

</li>
<li><p><a href="task-cluster-resource-display.html">To List Resources for a Cluster</a></p>

</li>
<li><p><a href="task-cluster-resource-enable-disable.html">To Enable or Disable a Resource Globally</a></p>

</li>
<li><p><a href="task-cluster-resource-edit.html">To Edit a Resource for a Cluster</a></p>

</li>
<li><p><a href="task-upgrade-components.html">To Upgrade Components Without Loss of Service</a></p>

</li></ul>


<small>Copyright &#169; 2005, 2011, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
